<!-- app/views/layouts/_sidebar.html.erb -->
<!-- Requires Bootstrap JS (bundle) loaded in layout and bootstrap icons CDN (optional) -->
<nav id="sidebar" class="pos-sidebar">
  <div class="sidebar-header d-flex align-items-center justify-content-between px-3 py-2">
  <div class="d-flex align-items-center gap-2">
    <span class="sidebar-brand h5 mb-0">POS</span>   
  </div>

    <button id="sidebarToggle" class="btn btn-sm btn-outline-secondary" aria-label="Toggle sidebar" data-bs-toggle="tooltip" data-bs-placement="right" title="Toggle sidebar">
      <!-- hamburger icon -->
      <svg width="18" height="18" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="bi">
        <path fill-rule="evenodd" d="M1.5 3.5A.5.5 0 0 1 2 3h12a.5.5 0 0 1 0 1H2a.5.5 0 0 1-.5-.5zm0 4A.5.5 0 0 1 2 7h12a.5.5 0 0 1 0 1H2a.5.5 0 0 1-.5-.5zm0 4A.5.5 0 0 1 2 11h12a.5.5 0 0 1 0 1H2a.5.5 0 0 1-.5-.5z"/>
      </svg>
    </button>
  </div>

  <ul class="nav flex-column mt-2" role="menu" aria-label="Main menu">
    <li class="nav-item">
      <a class="nav-link d-flex align-items-center gap-2" href="<%= root_path %>">
        <span class="menu-icon" aria-hidden="true">
          <!-- icon -->
          <svg width="16" height="16" viewBox="0 0 16 16" class="bi"><path d="M8 3.293l6 6V15h-3v-3H5v3H2v-5.707l6-6z"/></svg>
        </span>
        <span class="menu-text">Dashboard</span>
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link d-flex align-items-center gap-2" href="#">
        <span class="menu-icon" aria-hidden="true">
          <svg width="16" height="16" viewBox="0 0 16 16"><path d="M2 2h12v2H2zM2 6h12v2H2zM2 10h12v2H2z"/></svg>
        </span>
        <span class="menu-text">Ringkasan</span>
      </a>
    </li>

    <li class="nav-item">
      <button class="nav-link d-flex align-items-center gap-2 collapsed" data-bs-toggle="collapse" data-bs-target="#masterMenu" aria-expanded="false" aria-controls="masterMenu">
        <span class="menu-icon" aria-hidden="true">
          <svg width="16" height="16" viewBox="0 0 16 16"><path d="M4 1h8v2H4zM4 5h8v2H4zM4 9h8v2H4z"/></svg>
        </span>
        <span class="menu-text">Master</span>
        <span class="ms-auto small caret"></span>
      </button>

      <div class="collapse ps-4" id="masterMenu">
        <ul class="btn-toggle-nav list-unstyled fw-normal small">
          <li><%= link_to products_path, class: "nav-link small py-1 d-flex align-items-center gap-2" do %>
            <span class="menu-icon"><svg width="14" height="14" viewBox="0 0 16 16"><path d="M2 2h12v12H2z"/></svg></span>
            <span class="menu-text">Products</span>
          <% end %></li>

          <% if current_user&.admin? %>
            <li><%= link_to admin_users_path, class: "nav-link small py-1 d-flex align-items-center gap-2" do %>
              <span class="menu-icon"><svg width="14" height="14" viewBox="0 0 16 16"><path d="M8 1a3 3 0 100 6 3 3 0 000-6zM2 14s1-1 6-1 6 1 6 1v1H2v-1z"/></svg></span>
              <span class="menu-text">Users</span>
            <% end %></li>
          <% end %>
        </ul>
      </div>
    </li>
  </ul>
</nav>
