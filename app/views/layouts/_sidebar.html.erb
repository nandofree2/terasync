<!-- app/views/layouts/_sidebar.html.erb -->
<nav id="app-sidebar" class="app-sidebar">
  <div class="sidebar-top d-flex align-items-center justify-content-between px-3 py-2">
    <div class="brand d-flex align-items-center gap-2">
      <button id="sidebarToggle" class="btn btn-light btn-sm" aria-label="Toggle sidebar">
        <span class="fs-5">&#9776;</span>
      </button>
      <span class="brand-text fw-bold ms-1">POS</span>
    </div>

    <!-- close button for mobile -->
    <button id="sidebarClose" class="btn btn-sm btn-outline-secondary d-lg-none" aria-label="Close sidebar">&times;</button>
  </div>

  <ul class="nav flex-column sidebar-menu p-2" role="menu">
    <li class="nav-item">
      <a class="nav-link menu-link" href="/" data-route="/">
        <i class="bi bi-house"></i>
        <span class="menu-text">Dashboard</span>
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link menu-link" href="/users" data-route="/users">
        <i class="bi bi-people"></i>
        <span class="menu-text">Users</span>
      </a>
    </li>

    <li class="nav-item has-children">
      <a class="nav-link collapse-toggle" href="#productsSub" data-bs-toggle="collapse" aria-expanded="false">
        <i class="bi bi-box-seam"></i>
        <span class="menu-text">Product</span>
        <i class="ms-auto bi bi-chevron-down small"></i>
      </a>

      <div class="collapse" id="productsSub">
        <ul class="nav flex-column sub-menu ps-3">
          <li class="nav-item">
            <a class="nav-link menu-link" href="/products" data-route="/products">
              <i class="bi bi-list-ul"></i>
              <span class="menu-text">List Products</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link menu-link" href="/uoms" data-route="/uoms">
              <i class="bi bi-rulers"></i>
              <span class="menu-text">UOM</span>
            </a>
          </li>
        </ul>
      </div>
    </li>
  </ul>

  <div class="sidebar-footer p-2 mt-auto">
    <small class="text-muted">Logged as: <%= current_user&.email || "Guest" %></small>
  </div>
</nav>

<!-- backdrop for mobile overlay -->
<div class="sidebar-backdrop" aria-hidden="true"></div>
